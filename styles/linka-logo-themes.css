/**
 * LINKA LOGO THEME SYSTEM
 * Seamless integration across all background themes
 * Dynamic adaptation with WCAG AA compliance
 */

/* ===== THEME DETECTION SETUP ===== */
:root {
  /* Official Brand Colors */
  --linka-primary: #0073e6;
  --linka-accent: #FF6B00;
  
  /* Theme-aware color variants */
  --linka-glass-light: rgba(0, 115, 230, 0.1);
  --linka-glass-dark: rgba(255, 107, 0, 0.15);
  --linka-outline-light: rgba(0, 0, 0, 0.2);
  --linka-outline-dark: rgba(255, 255, 255, 0.3);
  
  /* Animation timing */
  --linka-transition-fast: 0.3s ease-out;
  --linka-transition-normal: 0.5s ease-out;
  --linka-transition-slow: 0.7s ease;
}

/* ===== LIGHT THEME STYLES ===== */
[data-theme="light"] .linka-logo-container,
.linka-logo-container[data-theme="light"] {
  --theme-primary: var(--linka-primary);
  --theme-accent: var(--linka-accent);
  --theme-glass: var(--linka-glass-light);
  --theme-outline: var(--linka-outline-light);
  --theme-shadow: 0 2px 8px rgba(0, 115, 230, 0.2);
  --theme-hover-glow: 0 0 15px rgba(0, 115, 230, 0.3);
}

[data-theme="light"] .linka-logo-container img {
  filter: brightness(1.0) contrast(1.0) drop-shadow(var(--theme-shadow));
}

[data-theme="light"] .linka-logo-container:hover img {
  filter: brightness(1.05) contrast(1.02) drop-shadow(var(--theme-hover-glow));
}

/* ===== DARK THEME STYLES ===== */
[data-theme="dark"] .linka-logo-container,
.linka-logo-container[data-theme="dark"] {
  --theme-primary: var(--linka-accent);
  --theme-accent: var(--linka-primary);
  --theme-glass: var(--linka-glass-dark);
  --theme-outline: var(--linka-outline-dark);
  --theme-shadow: 0 2px 8px rgba(255, 107, 0, 0.3);
  --theme-hover-glow: 0 0 20px rgba(255, 107, 0, 0.4);
}

[data-theme="dark"] .linka-logo-container img {
  filter: brightness(1.1) contrast(1.05) drop-shadow(var(--theme-shadow));
}

[data-theme="dark"] .linka-logo-container:hover img {
  filter: brightness(1.15) contrast(1.08) drop-shadow(var(--theme-hover-glow));
}

/* ===== CUSTOM THEME STYLES ===== */
[data-theme="custom"] .linka-logo-container,
.linka-logo-container[data-theme="custom"] {
  --theme-primary: var(--linka-primary);
  --theme-accent: var(--linka-accent);
  --theme-glass: rgba(0, 115, 230, 0.1);
  --theme-outline: rgba(255, 255, 255, 0.25);
  --theme-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  --theme-hover-glow: 0 0 18px rgba(0, 115, 230, 0.35);
}

[data-theme="custom"] .linka-logo-container img {
  filter: brightness(1.05) contrast(1.02) drop-shadow(var(--theme-shadow));
}

/* ===== SYSTEM THEME PREFERENCE SUPPORT ===== */
@media (prefers-color-scheme: dark) {
  .linka-logo-container:not([data-theme]) {
    --theme-primary: var(--linka-accent);
    --theme-accent: var(--linka-primary);
    --theme-glass: var(--linka-glass-dark);
    --theme-outline: var(--linka-outline-dark);
    --theme-shadow: 0 2px 8px rgba(255, 107, 0, 0.3);
    --theme-hover-glow: 0 0 20px rgba(255, 107, 0, 0.4);
  }

  .linka-logo-container:not([data-theme]) img {
    filter: brightness(1.1) contrast(1.05) drop-shadow(var(--theme-shadow));
  }
}

@media (prefers-color-scheme: light) {
  .linka-logo-container:not([data-theme]) {
    --theme-primary: var(--linka-primary);
    --theme-accent: var(--linka-accent);
    --theme-glass: var(--linka-glass-light);
    --theme-outline: var(--linka-outline-light);
    --theme-shadow: 0 2px 8px rgba(0, 115, 230, 0.2);
    --theme-hover-glow: 0 0 15px rgba(0, 115, 230, 0.3);
  }

  .linka-logo-container:not([data-theme]) img {
    filter: brightness(1.0) contrast(1.0) drop-shadow(var(--theme-shadow));
  }
}

/* ===== INTELLIGENT PLACEMENT SYSTEM ===== */
.linka-logo-container {
  /* Base positioning and spacing */
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
  margin: 0;
  
  /* Overflow prevention */
  overflow: hidden;
  box-sizing: border-box;
  
  /* Transition setup */
  transition: var(--linka-transition-fast);
  
  /* Intelligent sizing */
  max-width: min(25%, 160px);
  min-width: 60px;
  aspect-ratio: 1;
}

/* Mobile responsive adjustments */
@media (max-width: 767px) {
  .linka-logo-container {
    max-width: min(20vw, 120px);
    min-width: 60px;
    padding: 1rem;
  }
}

/* Desktop scaling */
@media (min-width: 768px) {
  .linka-logo-container {
    max-width: min(25%, 160px);
    min-width: 120px;
  }
}

/* Large screen optimization */
@media (min-width: 1920px) {
  .linka-logo-container {
    max-width: 200px;
  }
}

/* Ultra-wide screen cap */
@media (min-width: 3840px) {
  .linka-logo-container {
    max-width: 250px;
  }
}

/* ===== SPECIAL POSITIONING CONTEXTS ===== */

/* Header positioning */
.header .linka-logo-container,
.navbar .linka-logo-container {
  position: relative;
  margin-left: 0;
  margin-right: auto;
}

/* Sidebar positioning */
.sidebar .linka-logo-container {
  margin: 0 auto;
  max-width: 80px;
  max-height: 80px;
}

/* Modal/overlay positioning */
.modal .linka-logo-container,
.overlay .linka-logo-container {
  position: absolute;
  top: 1.5rem;
  left: 1.5rem;
  z-index: 50;
}

/* Footer positioning */
.footer .linka-logo-container {
  max-width: 120px;
  margin: 0 auto;
}

/* ===== GLASSMORPHISM ADAPTIVE EFFECTS ===== */
.linka-logo-glassmorphism {
  position: absolute;
  inset: 0;
  border-radius: 0.75rem;
  pointer-events: none;
  
  /* Theme-aware glass effect */
  background: var(--theme-glass);
  backdrop-filter: blur(3px);
  border: 1px solid rgba(255, 255, 255, 0.1);
  
  /* Smooth transitions */
  transition: var(--linka-transition-slow);
  opacity: 0.8;
}

.linka-logo-container:hover .linka-logo-glassmorphism {
  opacity: 1;
  backdrop-filter: blur(4px);
}

/* Disable glass effects on mobile for performance */
@media (max-width: 767px) {
  .linka-logo-glassmorphism {
    backdrop-filter: none;
    background: transparent;
  }
}

/* ===== CONTEXT-AWARE ANIMATIONS ===== */

/* Base animation setup */
.linka-logo-container {
  cursor: pointer;
  transition: transform var(--linka-transition-fast);
}

.linka-logo-container:hover {
  transform: scale(1.05);
}

.linka-logo-container img {
  transition: filter var(--linka-transition-normal);
}

/* Light theme pulse animation */
[data-theme="light"] .linka-logo-hover-effect {
  background: radial-gradient(circle, var(--linka-primary)20, transparent);
  animation: light-pulse 1.5s ease-in-out;
}

@keyframes light-pulse {
  0%, 100% { opacity: 0; transform: scale(1); }
  50% { opacity: 0.3; transform: scale(1.02); }
}

/* Dark theme shimmer animation */
[data-theme="dark"] .linka-logo-hover-effect {
  background: linear-gradient(45deg, transparent, var(--linka-accent)30, transparent);
  animation: dark-shimmer 0.8s ease-out;
}

@keyframes dark-shimmer {
  0% { transform: translateX(-200%) skewX(-12deg); opacity: 0; }
  50% { opacity: 0.6; }
  100% { transform: translateX(200%) skewX(-12deg); opacity: 0; }
}

/* Disable animations during scroll */
.scrolling .linka-logo-container,
.scrolling .linka-logo-container * {
  animation: none !important;
  transition: none !important;
}

/* ===== PERFORMANCE OPTIMIZATIONS ===== */

/* Hardware acceleration */
.linka-logo-container,
.linka-logo-container img,
.linka-logo-glassmorphism {
  will-change: transform, opacity, filter;
  transform: translateZ(0);
}

/* Efficient repaints */
.linka-logo-container {
  contain: layout style paint;
}

/* Preload critical assets */
.linka-logo-container img {
  image-rendering: crisp-edges;
  image-rendering: -webkit-optimize-contrast;
}

/* ===== ACCESSIBILITY ENHANCEMENTS ===== */

/* High contrast mode support */
@media (prefers-contrast: high) {
  .linka-logo-container img {
    filter: contrast(1.3) brightness(1.1) !important;
  }
  
  .linka-logo-glassmorphism {
    display: none;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .linka-logo-container,
  .linka-logo-container *,
  .linka-logo-hover-effect {
    animation: none !important;
    transition: none !important;
  }
  
  .linka-logo-container:hover {
    transform: scale(1.02);
  }
}

/* Focus indicators */
.linka-logo-container:focus-visible {
  outline: 2px solid var(--theme-primary);
  outline-offset: 4px;
  border-radius: 0.75rem;
}

/* ===== ZOOM LEVEL SUPPORT ===== */

/* 150% zoom */
@media (min-resolution: 144dpi) {
  .linka-logo-container {
    padding: 1.25rem;
  }
}

/* 200% zoom */
@media (min-resolution: 192dpi) {
  .linka-logo-container {
    padding: 1rem;
    max-width: min(30%, 140px);
  }
}

/* ===== PRINT STYLES ===== */
@media print {
  .linka-logo-container {
    max-width: 2cm !important;
    max-height: 2cm !important;
    break-inside: avoid;
    page-break-inside: avoid;
  }
  
  .linka-logo-glassmorphism,
  .linka-logo-hover-effect {
    display: none !important;
  }
  
  .linka-logo-container img {
    filter: none !important;
  }
}

/* ===== CUMULATIVE LAYOUT SHIFT PREVENTION ===== */
.linka-logo-placeholder {
  display: inline-block;
  width: var(--logo-width, 120px);
  height: var(--logo-height, 120px);
  background: transparent;
  aspect-ratio: 1;
}

.linka-logo-loading-skeleton {
  background: linear-gradient(90deg, 
    rgba(0, 115, 230, 0.1) 25%, 
    rgba(0, 115, 230, 0.2) 50%, 
    rgba(0, 115, 230, 0.1) 75%
  );
  animation: skeleton-loading 1.5s ease-in-out infinite;
  border-radius: 0.75rem;
}

@keyframes skeleton-loading {
  0% { background-position: -200px 0; }
  100% { background-position: calc(200px + 100%) 0; }
}

/* ===== LANGUAGE AND RTL SUPPORT ===== */
[dir="rtl"] .linka-logo-container {
  margin-left: auto;
  margin-right: 0;
}

[dir="rtl"] .header .linka-logo-container {
  margin-left: auto;
  margin-right: 0;
}

[dir="rtl"] .modal .linka-logo-container {
  left: auto;
  right: 1.5rem;
}
